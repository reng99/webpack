## ç®€ä»‹

åŸºäºwebpackå¼€å‘ï¼Œæ­å»ºå…¬å¸çš„é¡¹ç›®ï¼Œé€‚åˆPCç«¯çš„å¤šé¡µé¢å¼€å‘ã€‚å–œæ¬¢çš„è¯å°±starğŸŒŸä¸€ä¸‹å’¯ã€‚å¦‚æœ‰ä¸å¦¥çš„åœ°æ–¹ï¼Œè¿˜è¯·æŒ‡æ­£ï¼Œä¸èƒœæ„Ÿæ¿€ã€‚


## é¡¹ç›®èƒŒæ™¯

å› ä¸ºä¸šåŠ¡çš„éœ€è¦ï¼Œè‡ªå·±è¢«æŠ½è°ƒå‡ºæ¥æ”¯æŒå¦å¤–ä¸€ä¸ªé¡¹ç›®ã€‚ç„¶è€Œï¼Œè¿™ä¸ªé¡¹ç›®åªæœ‰æˆ‘ä¸€ä¸ªå‰ç«¯ï¼Œå†ç„¶è€Œï¼Œè‡ªå·±æ²¡æœ‰è·Ÿjavaçš„åˆä½œè¿‡ã€‚

ä»–ä»¬çš„æŠ€æœ¯é€‰å‹åˆæœŸæ˜¯ï¼Œç½‘é¡µæ˜¯ä½¿ç”¨å¤šé¡µé¢çš„ï¼Œå‰ç«¯ï¼ˆæˆ‘ï¼‰è¿™è¾¹æ˜¯æä¾›é™æ€çš„ç½‘é¡µç»™åˆ°ä»–ä»¬ï¼Œç„¶åä»–ä»¬ä½¿ç”¨freemarkeræ¥è¿›è¡Œæ•°æ®çš„å†™å…¥ï¼Œç„¶åæœ‰ä»€ä¹ˆäº¤äº’çš„è¯æˆ‘å†ä»‹å…¥ã€‚è®©åè‡ªå·±å°±æ„é€ å‡ºäº†è¿™ä¹ˆä¸€ä¸ªå®ç°å¤šé¡µé¢çš„`webpack`é¡¹ç›®ã€‚

æ˜¨å¤©(2017-08-03)è¿›è¡Œäº¤æµï¼Œç°åœ¨æ˜¯ç™¾åˆ†ä¹‹å…­åç¡®å®šä¸Šé¢çš„æ–¹æ¡ˆï¼Œä¸è¿‡è¿™æ ·ä»–ä»¬åå°çš„å·¥ä½œé‡å°±å¢å¤šï¼Œè€Œä¸”å¥½åƒæˆ‘ä¹Ÿç”¨ä¸åˆ°å‰ç«¯çš„æ¡†æ¶ã€‚ä¹˜ç€è®¾è®¡è¿˜æ²¡ç»™è®¾è®¡ç¨¿ï¼Œç„¶åæˆ‘åˆæ–°å»ºäº†ä¸€ä¸ªä»“åº“[vue-cli_multipage](https://github.com/reng99/vue-cli_multipage)ï¼Œç”¨æ¥æ¢è®¨ä¸€ä¸‹vueå®ç°å¤šé¡µé¢åº”ç”¨ã€‚

-----------------åˆ†å‰²çº¿--------------------

åœ¨è¿™ä¸¤å¤©çš„æ­å»º[vue-cli_multipage](https://github.com/reng99/vue-cli_multipage)é¡¹ç›®ä¸­ï¼Œè‡ªå·±æ·±æ·±æ„Ÿåˆ°ç”¨vueå®ç°çš„mpaé¡µé¢çš„æ¶æ„ï¼Œæ··åˆçš„ä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šï¼Œå¯¹äºå¤šé¡µé¢æ¥è¯´æ˜¯ä¸ªå¤´ç–¼çš„é—®é¢˜ã€‚åŸè°…è‡ªå·±çš„æ°´å¹³æœ‰é™ï¼ŒåæœŸå›å¤´å†çœ‹çœ‹[vue-cli_multipage](https://github.com/reng99/vue-cli_multipage)ã€‚å› ä¸ºåœ¨è¿™æ–¹é¢çš„ç§ç§é—®é¢˜ï¼Œè¿˜æ˜¯ä½¿ç”¨ç°åœ¨çš„è¿™ä¸ªæ­å»ºå¥½çš„`webpack`é¡¹ç›®æ¥æ”¯æŒå…¬å¸çš„ä¸šåŠ¡ï¼ˆæœ€å¤šè¦å‡è½»åç«¯å‹åŠ›çš„è¯ï¼Œè‡ªå·±å†å­¦ç‚¹`freemarker`è¯­æ³•ï¼‰ï¼Œå› ä¸º`webpack`é¡¹ç›®æ˜¯è‡ªå·±çº¯æ‰‹åŠ¨æ­å»ºçš„ï¼Œä¸åƒ`vue-cli`è„šæ‰‹æ¶æ­å»ºmpaï¼Œå‡ºäº†ä»€ä¹ˆé—®é¢˜é‚£æˆ‘å°±æœ‰çš„èƒŒé”…äº†ã€‚:blush:


## é¡¹ç›®åœ°å€

[https://github.com/reng99/webpack](https://github.com/reng99/webpack)



## ä½¿ç”¨æ–¹æ³• -- è¯·ä¿æŒç½‘ç»œçš„é¡ºç•…

```

# ä¸‹è½½ä»£ç 
$ git clone https://github.com/reng99/webpack.git

# è¿›å…¥æ ¹ç›®å½•
$ cd webpack

# å®‰è£…ä¾èµ–
$ npm install Â  (å¦‚æœå®‰è£…ä¾èµ–å¤±è´¥ï¼Œæœ‰å¯èƒ½æ˜¯æ‚¨çš„npm ç‰ˆæœ¬è¿‡ä½å“¦ï¼Œè¯·å°è¯•npm i -g npm ä¹‹åæ‰§è¡Œnpm install)

# å¼€å‘æ¨¡å¼ (æ‰§è¡Œå®Œnpm run dev åï¼Œå¦‚æœæµè§ˆå™¨æ²¡æœ‰å¼¹å‡ºæ–°çª—å£ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥localhost:9000è®¿é—®)
$ npm run dev

# æ£€æŸ¥è¯­æ³•(æ­¤æ­¥éª¤å¯çœç•¥ï¼Œå› ä¸ºåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­å·²ç»æ£€æŸ¥)
$ npm run lint

# ç”Ÿäº§æ¨¡å¼
$ npm run build
[æ³¨æ„ï¼Œåœ¨ç”Ÿäº§æ¨¡å¼ä¸­ï¼Œä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹çš„èµ„æºéœ€è¦é¢å¤–åœ¨vendoræ–‡ä»¶å¤¹ä¸­æŒ‰éœ€å¼•ç”¨,å»ºè®®å¼•ç”¨ç›¸å…³çš„CDN(Content Delivery Network ã€å†…å®¹åˆ†å‘ç½‘ç»œã€‘)æ¥è¿›è¡Œå‰ç«¯ä¼˜åŒ–]
[å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç›¸å…³çš„.jsæ–‡ä»¶åªæ˜¯å¼•å…¥äº†.lessçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å°±è¦å»é™¤ç”Ÿäº§çš„ç›¸å…³çš„.jsæ–‡ä»¶ï¼Œä¿ç•™ç›¸å…³çš„.cssæ–‡ä»¶å°±å¯ä»¥äº†ã€‚æ¯”å¦‚ï¼šabout.jsæ–‡ä»¶å¼•å…¥äº†about.lessçš„ä»£ç ï¼Œä½†æ˜¯about.jsæ–‡ä»¶ä¸­æ²¡æœ‰ä»»ä½•çš„javascriptä»£ç ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¿ç•™ç›¸å…³çš„about.css(buildåçš„æ–‡ä»¶åç§°æœ‰æ‰€ä¸åŒ)æ–‡ä»¶ï¼Œåˆ é™¤å¤šä½™çš„about.js(buildåçš„æ–‡ä»¶åç§°æœ‰æ‰€ä¸åŒ)]

```

ç”Ÿäº§ç¯å¢ƒä¸­å¼•å…¥äº†`vendor`é‡Œé¢çš„å†…å®¹ï¼Œå¦‚ä¸‹

```javascript

    ...
    new webpack.ProvidePlugin({
        $: "jquery",//jquery
        jQuery: "jquery",
        "window.jQuery": "jquery",
        _:"lodash"//lodash
    })
    ...

```
é¢å¤–å¼•å…¥äº†`handlebars`ã€‚

ç„¶è€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ²¡æœ‰å¼•ç”¨åˆ°ï¼Œæ‰€ä»¥ï¼Œåœ¨`npm run build`ä¹‹åï¼Œä½ éœ€è¦åœ¨ä½¿ç”¨åˆ°çš„é¡µé¢å¼•ç”¨`vendor`æ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹ã€‚


**è½¬æ¢æˆéå‹ç¼©ç‰ˆçš„csså’Œjs**

åœ¨æŸç§æƒ…å†µä¸‹ï¼Œéœ€è¦å¯¹`npm run build`ä¹‹åçš„ç”Ÿæˆçš„`.css`å’Œ Â `.js`æ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼Œè¿™ä¸ªæ—¶å€™å‹ç¼©å°±ä¸å¥½é˜…è¯»å¹¶æ›´æ”¹ï¼Œæ­¤æ—¶å¯ä»¥æ›´æ”¹ä¸€ä¸‹ç”Ÿæˆç¯å¢ƒ`./build/webpack.config.prod.js`é‡Œé¢çš„å†…å®¹ï¼Œæ³¨é‡Šæ‰å‹ç¼©`jså’Œcss`çš„ç›¸å…³ä»£ç å°±è¡Œã€‚

```javascript

    ..
    plugins:[//æ’ä»¶ï¼Œå…·ä½“çš„å†…å®¹å¯ä»¥æŸ¥çœ‹é“¾æ¥ -- https://doc.webpack-china.org/plugins/

 Â  Â  Â  Â // æ³¨é‡Šæ‰
 Â  Â  Â  Â new OptimizeCssAssetsPlugin({//å¯¹ç”Ÿäº§ç¯å¢ƒçš„cssè¿›è¡Œå‹ç¼©
            cssProcessorOptions:{
                safe:true
            }
        }),
 Â  Â  Â  Â // æ³¨é‡Šæ‰
 Â  Â  Â  Â new UglifyJSPlugin({//å‹ç¼©jsä»£ç --é“¾æ¥ https://doc.webpack-china.org/plugins/uglifyjs-webpack-plugin/

        }),

    ],
    ...

````
ç„¶åæ›´æ”¹ä¸€ä¸‹ç”Ÿæˆæ–‡ä»¶çš„åç§°å°±å¯ä»¥äº†ã€‚`./build/webpack.base.config.js`

```javascript
    ...
    output:{
        path:path.join(__dirname,'../dist/'),
 Â  Â  Â  Â filename:'js/[name].[chunkhash].js',// åŸå…ˆå‹ç¼©çš„ä¸º'js/[name].[chunkhash].min.js'
 Â  Â },
    ...
    plugins:[
        ...
        new ExtractTextPlugin({//ä»bundleä¸­æå–å‡º
            filename:(getPath)=>{
 Â  Â  Â  Â  Â  Â  Â  Â return getPath('css/[name].[chunkhash].css').replace('css/js', 'css'); // åŸå'css/[name].[chunkhash].min.css'
 Â  Â  Â  Â  Â  Â  },
       ...
    ]
```



## ä¼˜åŒ–å†å²(optimation æ–‡ä»¶å¤¹ä¸­)

1. [æäº¤åˆ°githubå¿½ç•¥node_modulesç­‰æ–‡ä»¶](./optimization/gitignore.md)

2. [æ”¯æŒes6è¯­æ³•](./optimization/supportEs6.md)

3. [å›¢é˜Ÿideä¸­editorconfigè§„èŒƒ](./optimization/editorconfig.md)

4. [æ·»åŠ æœåŠ¡å™¨å¤–éƒ¨å¯ä»¥è®¿é—®](./optimization/devhost.md)

5. [æ·»åŠ eslintè§„èŒƒä»£ç ](./optimization/eslint.md)

6. [æ·»åŠ chunkhashå€¼ç®¡ç†èµ„æº](./optimization/chunkhash.md) 2017-08-09

7. [æ·»åŠ handlebarså¤„ç†](./optimization/handlebars.md) 2017-08-24

8. [ä½¿ç”¨chunksSortModeå¯¹ç›¸å…³çš„jsè¿›è¡Œé¡ºåºç®¡ç†](./optimization/jsQueue.md) 2017-09-07



## pluginsé€‰è®²

- [webpack-merge](https://npm.taobao.org/package/webpack-merge) --> it provides a `merge` function that concatenates(è”ç³») arrays and merges objects creating a new object.

- [uglifyjs-webpack-plugin](https://doc.webpack-china.org/plugins/uglifyjs-webpack-plugin/) --> uglify js

- [plugin ProvidePlugin](https://webpack.github.io/docs/shimming-modules.html#plugin-provideplugin) --> This plugin makes a module availble as a variable in `every` module is required only you use the variable.


## vendor å¼•ç”¨

- [jQuery](https://jquery.com/) --> jQuery is a fast,small,and feature-rich Javascript library.It makes things like HTML document traversal and manipulation,event handling,and Ajax much simpler with an easy-to-use API that works across a multitude of browers.With a combination of versatility,jQuery has changed the way thar millions of people write Javascript.

- [lodash](https://lodash.com/) --> A modern JavaScript utility library delivering modularity(æ¨¡å—åŒ–),performance & extras. ç±»ä¼¼[underscore](http://underscorejs.org/)

- [handlebars](http://handlebarsjs.com/)(2017-08-24) --> Handlebars provides the power necessary to let you build `sematic templates`(è¯­ä¹‰åŒ–æ¨¡æ¿) effectively with no frustration.



## ä»“åº“è¯´æ˜

- æœ¬ä»“åº“ç”¨åˆ°çš„ä»£ç æ˜¯è‡ªå·±å­¦ä¹ ä¸­æ€»ç»“çš„

- æœ¬ä»“åº“ç”¨åˆ°çš„å›¾ç‰‡æ˜¯è‡ªå·±åœ¨è°·æ­Œæµè§ˆå™¨ä¸Šè¿è¡Œçš„æˆªå›¾å’Œæœ¬å…¬å¸[å®˜ç½‘](https://www.52tt.com/)çš„å›¾ç‰‡

- æœ¬ä»“åº“ä¸­éƒ¨åˆ†æ–‡å­—å¼•ç”¨å‡ºè‡ªç½‘ç»œï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·ä¸æˆ‘è”ç³»--1837895991@qq.com ã€‚æˆ‘ä¼šåœ¨ç¬¬ä¸€æ—¶é—´åˆ é™¤ã€‚


## ç›¸å…³å‚è€ƒ

- [webpackå®˜ç½‘](http://webpack.github.io/)

- [eslinté…ç½®](http://eslint.org/docs/user-guide/configuring)


## åè¯

é¡¹ç›®å·²ç»ä¸Šçº¿ï¼ŒåŸºäºæœ¬ä»“åº“å®Œæˆçš„å‰ç«¯æ•ˆæœ--çº¿ä¸Šçš„åœ°å€ä¸º[https://www.taomitao.com/](https://www.taomitao.com/) 2017-11-03ã€‚å–œæ¬¢æœ¬ä»“åº“çš„æ­å»ºå°±starğŸŒŸæ”¯æŒä¸€ä¸‹å•¦:blush:

æœ€è¿‘(2017.12.04)è‡ªå·±èŠ±äº†ä¸€å‘¨æ—¶é—´é‡æ–°æ­å»ºäº†è‡ªå·±çš„åšå®¢ï¼Œç½‘ç«™æ˜¯[http://reng99.cc](http://reng99.cc/) åœ¨2018å¹´ä¸€æœˆä»½ä¹‹åï¼Œå…¬å¸æœ¬é¡¹ç›®ï¼ˆpcç«¯å’Œmç«¯ï¼‰ç»“æŸåï¼Œè‡ªå·±ä¼šå°†è‡ªå·±çš„webpackçš„æ­å»ºé‡å¤´åˆ°å°¾ç”¨åšæ–‡çš„æ–¹å¼å±•ç¤ºå‡ºæ¥ï¼Œè¿˜è¯·å¤šå¤šæŒ‡æ•™ï¼

